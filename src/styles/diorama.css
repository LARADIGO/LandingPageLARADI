/* =========================================
   Hero Diorama Component Styles (Scoped)
   ========================================= */
:root {
  --dio-ink:#0F172A;
  --dio-muted:#445159;
  --dio-bg-1:#E7EFE8;
  --dio-bg-2:#E9EDF2;
  --dio-card:#F7FAF7;
  --dio-edge:#E3E8E6;
  --dio-primary:#22A45A;
  --dio-primary-pastel:#CFEFD9;
  --dio-primary-pastel-hover:#BEE8CC;
  --dio-accent:#6A85F1;
  --dio-radius-xl:34px;
  --dio-shadow-soft:
    0 18px 50px rgba(17,35,28,.10),
    0 2px 0 rgba(255,255,255,.6) inset,
    0 -2px 0 rgba(0,0,0,.04) inset;
  --dio-bevel-top: linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,0) 40%);
  --dio-bevel-bottom: linear-gradient(0deg, rgba(0,0,0,.06), rgba(0,0,0,0) 40%);
}

/* Aumentamos el ancho máximo del contenedor para dar más aire a la imagen */
.wrap { max-width:1280px; margin-inline:auto; padding: clamp(16px,3vw,28px); }

.diorama-page {
  background: linear-gradient(135deg, var(--dio-bg-1), var(--dio-bg-2));
  color: var(--dio-ink);
  font-family: var(--font-sans);

  /* Variables ola */
  --wave-fill-base: #ECF2EC;
  --wave-glow-color: var(--primary);
}

.hero-card {
  position:relative;
  border-radius: var(--dio-radius-xl);
  background: var(--dio-card);
  border:1px solid var(--dio-edge);
  box-shadow: var(--dio-shadow-soft);
  overflow:hidden;
  padding-top: clamp(8px, 1vw, 12px);
}

.hero-grid {
  position: relative; z-index: 1;
  --hero-pad: clamp(20px, 3.6vw, 44px);
  --hero-image-gutter: clamp(28px,4vw,72px); /* espacio que reservamos a la derecha */
  padding: var(--hero-pad);
  display:grid; gap: clamp(16px,2.5vw,32px);
  grid-template-columns: 0.85fr 1.15fr;
  align-items:center;
}
@media (max-width: 980px){
  .hero-grid {
    grid-template-columns: 1fr;
    --hero-pad: clamp(16px, 4vw, 28px);
    --hero-image-gutter: 0px;
  }
}

/* Escena sin “cuadrado” y con halos por detrás */
.stage {
  position: relative;
  min-height: 520px;
  border: none;
  background: transparent;
  overflow: visible;
  box-shadow: none;
  display: grid;
  place-items: center;
}

/* Extensión controlada: añadimos ancho pero dejamos gutter a la derecha */
@media (min-width: 981px){
  .hero-grid > .stage {
    width: calc(100% + var(--hero-pad) - var(--hero-image-gutter));
    margin-right: calc(-1 * (var(--hero-pad) - var(--hero-image-gutter)));
  }
}

/* Halos degradados detrás (tema claro marrón, tema oscuro azul) */
.stage::before {
  content:"";
  position:absolute;
  inset: -6% -6%;
  z-index: 0;
  pointer-events:none;
  background:
    radial-gradient(600px 320px at 85% 22%, color-mix(in srgb, var(--primary) 34%, transparent), transparent 60%),
    radial-gradient(560px 300px at 12% 82%, color-mix(in srgb, var(--primary-2) 26%, transparent), transparent 60%);
  filter: blur(2px);
}
.dark-theme .stage::before {
  background:
    radial-gradient(600px 320px at 85% 22%, color-mix(in srgb, var(--primary) 28%, transparent), transparent 60%),
    radial-gradient(560px 300px at 12% 82%, color-mix(in srgb, var(--primary-2) 22%, transparent), transparent 60%);
}

.stage .media {
  width: 100%;
  height: auto;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 1;
}

/* Imagen llenando horizontalmente (width:100%), ahora con más ancho real pero con gutter */
.stage img {
  position: relative;
  width: 100%;
  height: auto;
  object-fit: contain;
  border-radius: 20px;
  box-shadow: 0 12px 36px rgba(2,6,23,.18);
  transform-origin:center;
  transition: box-shadow .3s ease;
  z-index: 2;
}
.stage img:hover { box-shadow: 0 18px 48px rgba(2,6,23,.24); }

@media (max-width: 600px){
  .stage { padding: 5%; }
}

/* Ola y animación */
.waves {
  position:absolute; left:0; right:0; bottom:0; height:140px;
  pointer-events:none; z-index:0;
}
.wave-path {
  fill: var(--wave-fill-base);
  transform-box: fill-box;
  transform-origin: 50% 100%;
  animation: none;
  will-change: transform, filter, opacity, fill;
}
.wave-path.is-animating {
  animation:
    wave-float 10s ease-in-out infinite,
    wave-glow 4.8s ease-in-out infinite;
}
@keyframes wave-float {
  0% { transform: translateY(0); }
  50% { transform: translateY(12px); }
  100% { transform: translateY(0); }
}
@keyframes wave-glow {
  0%   { fill: var(--wave-fill-base); opacity: 1; filter: saturate(1) brightness(1); }
  50%  { fill: var(--wave-glow-color); opacity: 0.97; filter: saturate(1.04) brightness(1.05); }
  100% { fill: var(--wave-fill-base); opacity: 1; filter: saturate(1) brightness(1); }
}
@media (prefers-reduced-motion: reduce) {
  .wave-path { animation: none !important; transform: none !important; filter: none !important; }
}

/* Tema oscuro */
.dark-theme .diorama-page {
  background:linear-gradient(135deg,#0c1219,#101a24);
  color:var(--text);

  --wave-fill-base: rgba(255,255,255,.06);
  --wave-glow-color: var(--primary);
}
.dark-theme .hero-card {
  background:linear-gradient(180deg,rgba(255,255,255,.06), rgba(255,255,255,.03));
  border-color:var(--border);
}
.dark-theme .diorama-page h1 { color:var(--text); }
.dark-theme .diorama-page .lead,
.dark-theme .diorama-page .bullets { color:var(--muted); }
.dark-theme .diorama-page .btn { background:transparent; color:var(--text); border-color:var(--border); }
.dark-theme .diorama-page .btn.primary { background:var(--dio-primary-pastel); color:#0F172A; border-color:var(--dio-primary-pastel); }

.diorama-page .btn.primary:hover { background:var(--dio-primary-pastel-hover); border-color:var(--dio-primary-pastel-hover); }