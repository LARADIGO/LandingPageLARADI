/* =========================================
   Hero Diorama Component Styles (Scoped)
   ========================================= */
:root {
  --dio-ink:#0F172A;
  --dio-muted:#445159;
  --dio-bg-1:#E7EFE8;
  --dio-bg-2:#E9EDF2;
  --dio-card:#F7FAF7;
  --dio-edge:#E3E8E6;
  --dio-primary:#22A45A;
  --dio-primary-pastel:#CFEFD9;
  --dio-primary-pastel-hover:#BEE8CC;
  --dio-accent:#6A85F1;
  --dio-radius-xl:34px;
  --dio-shadow-soft:
    0 18px 50px rgba(17,35,28,.10),
    0 2px 0 rgba(255,255,255,.6) inset,
    0 -2px 0 rgba(0,0,0,.04) inset;
  --dio-bevel-top: linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,0) 40%);
  --dio-bevel-bottom: linear-gradient(0deg, rgba(0,0,0,.06), rgba(0,0,0,0) 40%);
}

.diorama-page {
  background: linear-gradient(135deg, var(--dio-bg-1), var(--dio-bg-2));
  color: var(--dio-ink);
  font-family: var(--font-sans);

  /* Variables para la ola (tema claro) */
  --wave-fill-base: #ECF2EC;       /* color base actual de la ola */
  --wave-glow-color: var(--primary); /* marroncito del tema claro */
}

.wrap { max-width:1200px; margin-inline:auto; padding: clamp(16px,3vw,28px); }

.hero-card {
  position:relative; border-radius: var(--dio-radius-xl);
  background: var(--dio-card);
  border:1px solid var(--dio-edge);
  box-shadow: var(--dio-shadow-soft);
  overflow:hidden;
  padding-top: clamp(8px, 1vw, 12px);
}

.card-nav {
  position:absolute; inset: 16px 16px auto 16px; height:44px;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  padding: 6px 10px; border-radius: 999px;
  background: #ffffffcc; border:1px solid var(--dio-edge);
  backdrop-filter: blur(8px); color:#5B6B72; font-weight:600; z-index:2;
  font-family: var(--font-sans);
}
.card-nav .mini {
  width:28px; height:28px; border-radius:10px; border:1px solid var(--dio-edge);
  background:#fff; display:grid; place-items:center;
}

.hero-grid {
  position: relative; z-index: 1;
  display:grid; gap: clamp(20px,3vw,40px);
  grid-template-columns: 1.05fr 1fr;
  align-items:center;
  padding: clamp(20px, 3.6vw, 44px);
}
@media (max-width: 980px){ .hero-grid { grid-template-columns: 1fr; } }

.diorama-page .eyebrow {
  display:inline-flex; align-items:center; gap:8px;
  background: #fff; border:1px solid var(--dio-edge); border-radius:999px;
  padding:8px 12px; color:#2A3A33; font-size:13px; font-weight:700;
  font-family: var(--font-display);
}

.diorama-page h1 {
  font-size: clamp(32px, 5.6vw, 58px);
  line-height:1.04;
  margin:12px 0 8px;
  color: var(--dio-ink);
  font-family: var(--font-display);
  font-weight:700;
  letter-spacing:-0.6px;
}

.diorama-page .lead {
  font-size: clamp(16px,2.3vw,20px);
  color: var(--dio-muted);
  margin: 0 0 14px;
  font-family: var(--font-sans);
}

.ctas { display:flex; gap:12px; flex-wrap:wrap; margin-top:10px; }

.diorama-page .bullets {
  display:grid; gap:6px; margin-top:10px; color: var(--dio-muted);
  font-family: var(--font-sans);
  font-size:14px;
}

.diorama-page .btn {
  display:inline-flex; align-items:center; gap:10px; padding:12px 18px;
  border-radius:14px; font-weight:700; letter-spacing:.2px;
  border:1px solid var(--dio-edge); background:#fff; color: var(--dio-ink); text-decoration:none;
  box-shadow:0 1px 0 rgba(255,255,255,.6) inset;
  font-family: var(--font-sans);
}
.diorama-page .btn.primary {
  background: var(--dio-primary-pastel);
  border-color: var(--dio-primary-pastel);
  color: var(--dio-ink);
}
.diorama-page .btn.primary:hover {
  background: var(--dio-primary-pastel-hover);
  border-color: var(--dio-primary-pastel-hover);
}

.stage {
  position:relative; min-height: 520px; border-radius: 36px; border:1px solid var(--dio-edge);
  background:
   radial-gradient(600px 320px at 85% 20%, rgba(106,133,241,.30), transparent 60%),
   radial-gradient(600px 320px at 10% 80%, rgba(105,234,203,.30), transparent 60%),
   #FFFFFFCC;
  overflow:hidden; box-shadow: var(--dio-shadow-soft);
  display:grid; place-items:center; padding:4%;
}
.stage .media { width:100%; height:100%; display:grid; place-items:center; }

.stage img, .stage iframe, .stage canvas {
  position:relative; width:100%; height:100%; object-fit:contain;
  border-radius:24px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
  mix-blend-mode:normal; opacity:1;
}

.waves {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 140px;
  pointer-events: none;
  z-index: 0;
}

.wave-path {
  fill: var(--wave-fill-base);
  transform-box: fill-box;
  transform-origin: 50% 100%;
  /* Sin animación por defecto; se activa con .is-animating */
  animation: none;
  will-change: transform, filter, opacity, fill;
}

.wave-path.is-animating {
  animation:
    wave-float 10s ease-in-out infinite,
    wave-glow 4.8s ease-in-out infinite;
}

/* Flotación vertical */
@keyframes wave-float {
  0%   { transform: translateY(0); }
  50%  { transform: translateY(12px); }
  100% { transform: translateY(0); }
}

/* Parpadeo de luz (ahora hacia el color de tema) */
@keyframes wave-glow {
  0%   { fill: var(--wave-fill-base); opacity: 1; filter: saturate(1) brightness(1); }
  50%  { fill: var(--wave-glow-color); opacity: 0.97; filter: saturate(1.04) brightness(1.05); }
  100% { fill: var(--wave-fill-base); opacity: 1; filter: saturate(1) brightness(1); }
}

/* Respeto a usuarios con reduce motion */
@media (prefers-reduced-motion: reduce) {
  .wave-path { animation: none !important; transform: none !important; filter: none !important; }
}

.shelf {
  position:relative; height:112px; background:#fff; border-top:1px solid var(--dio-edge);
  box-shadow:0 -1px 0 rgba(255,255,255,.8) inset, 0 18px 40px rgba(0,0,0,.08);
}
.shelf::before { content:""; position:absolute; inset:0 0 auto 0; height:12px; background: var(--dio-bevel-top); }
.shelf::after { content:""; position:absolute; inset:auto 0 0 0; height:12px; background: var(--dio-bevel-bottom); }

.shelf-inner {
  max-width:880px; margin:0 auto; display:flex; align-items:center; justify-content:space-between;
  height:100%; padding:0 24px;
  color:#64737A; font-weight:700;
  font-family: var(--font-sans);
}

.controls { display:flex; gap:10px; align-items:center; }
.dot {
  width:32px; height:32px; border-radius:50%; background:#F6FAF7; border:1px solid var(--dio-edge);
  box-shadow:0 1px 0 rgba(255,255,255,.6) inset; display:grid; place-items:center;
  font-size:14px; color:#6A7C83; font-family:var(--font-sans);
}

/* Dark theme */
.dark-theme .diorama-page { 
  background:linear-gradient(135deg,#0c1219,#101a24); 
  color:var(--text);

  /* Variables para la ola (tema oscuro) */
  --wave-fill-base: rgba(255,255,255,.06);
  --wave-glow-color: var(--primary); /* azul del tema oscuro */
}

.dark-theme .hero-card { background:linear-gradient(180deg,rgba(255,255,255,.06), rgba(255,255,255,.03)); border-color:var(--border); }
.dark-theme .card-nav { background:rgba(255,255,255,.06); border-color:var(--border); color:var(--text); }
.dark-theme .eyebrow { background:rgba(255,255,255,.06); border-color:var(--border); color:var(--text); }
.dark-theme .diorama-page h1 { color:var(--text); }
.dark-theme .diorama-page .lead,
.dark-theme .diorama-page .bullets { color:var(--muted); }
.dark-theme .diorama-page .btn { background:transparent; color:var(--text); border-color:var(--border); }
.dark-theme .diorama-page .btn.primary { background:var(--dio-primary-pastel); color:#0F172A; border-color:var(--dio-primary-pastel); }
.dark-theme .stage {
  background:
    radial-gradient(600px 320px at 85% 20%, rgba(106,133,241,.18), transparent 60%),
    radial-gradient(600px 320px at 10% 80%, rgba(105,234,203,.18), transparent 60%),
    rgba(255,255,255,.03);
  border-color:var(--border);
}

/* Quitamos la antigua regla de fill fija para wave-path en dark y usamos variables */
// .dark-theme .wave-path { fill:rgba(255,255,255,.06); }

.dark-theme .shelf { background:var(--surface); border-top:1px solid var(--border); }
.dark-theme .shelf-inner { color:var(--muted); }
.dark-theme .dot { background:rgba(255,255,255,.06); border-color:var(--border); color:var(--muted); }